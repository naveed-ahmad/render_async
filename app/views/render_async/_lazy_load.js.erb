var lazyLoadObserver;
var lazyLoaded = function(element) {
    element.setAttribute("data-loaded", true);
    lazyLoadObserver.off('visibility');
}

var isLazyLoaded = function (element) {
    return "true" === element.getAttribute("data-loaded");
};

var lazyLoading = function (element) {
    var loading = element.attr("data-loading");
    element.attr("data-loading", true);

    return !!loading;
}
var _lazyListener = function () {
    var element = $('#<%= container_id %>');

    lazyLoadObserver = element.on('visibility', function(e) {
        if(e.visible){
            if(!lazyLoading(element)){
                _listener();
            }
        }
    });
}